
# behat.yml
default:
    formatters:
        pretty: true
        junit:
            output_path: ./tests/Functional/results/junit

    suites:
        default:
            paths:
                features: ./tests/Functional/Features/
            contexts:
                - App\Tests\Functional\Contexts\AppContext
                - Behat\MinkExtension\Context\MinkContext
                - behatch:context:browser
                - behatch:context:debug
                - behatch:context:system
                - behatch:context:json
                - behatch:context:table
                - behatch:context:rest
                - behatch:context:xml

    extensions:
        FriendsOfBehat\SymfonyExtension:
            kernel:
                environment: test

        Behat\MinkExtension:
            show_auto: true
            show_cmd: firefox %s
            base_url: "http://localhost"
            sessions:
                symfony:
                    symfony: ~

        Behatch\Extension: ~

        LeanPHP\Behat\CodeCoverage\Extension:
            drivers:
                - local
            filter:
                whitelist:
                    include:
                        directories:
                            src: ~
                    exclude:
                        directories:
                            src/Migrations: ~
                        files:
                            - src/Kernel.php
            report:
                format: html
                options:
                    target: tests/Functional/results/html
